import{r as e,j as r}from"./index-NFq4SSy3.js";import"./react-vendor-HnKmhvXM.js";function a({src:a,alt:t,className:s="",placeholder:n="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgZmlsbD0iI2UyZThlZiIvPjwvc3ZnPg==",onLoad:i,onError:c,loading:o="lazy",fetchPriority:l="auto"}){const[d,u]=e.useState(n),[m,g]=e.useState(!0),[y,b]=e.useState(!1),j=e.useRef(null);return e.useEffect(()=>{const e=new IntersectionObserver(r=>{r.forEach(r=>{if(r.isIntersecting){const r=new Image;r.src=a,r.onload=()=>{u(a),g(!1),i&&i()},r.onerror=()=>{b(!0),g(!1),c&&c()},j.current&&e.unobserve(j.current)}})},{rootMargin:"100px",threshold:.01});return j.current&&e.observe(j.current),()=>{j.current&&e.unobserve(j.current)}},[a,n,i,c]),r.jsxs("div",{ref:j,className:`relative ${s}`,children:[m&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:r.jsx("div",{className:"animate-pulse",children:r.jsx("div",{className:"h-8 w-8 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})})}),y?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 dark:bg-gray-800",children:r.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"이미지 로드 실패"})}):r.jsx("img",{src:d,alt:t,className:`${s} ${m?"opacity-0":"opacity-100"} transition-opacity duration-300`,loading:o,fetchpriority:l})]})}export{a as default};
