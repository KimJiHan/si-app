# Future Seoul App - AI 이미지 생성 애플리케이션

## 프로젝트 개요

서울연구원의 서울 미래상을 다양한 예술 스타일로 AI가 재해석하여 생성하는 인터랙티브 웹 애플리케이션입니다. 사용자는 서울의 주요 랜드마크를 선택하고 원하는 예술 스타일을 적용하여 개인만의 서울 미래상을 창조할 수 있습니다.

## 기술 스택

- **Frontend**: React 19.1.0 + Vite 7.0.4
- **Styling**: Tailwind CSS 3.4.17
- **AI Integration**: Google Gemini 2.0 Flash (이미지 생성)
- **Deployment**: GitHub Pages
- **Development**: ESLint, PostCSS, Autoprefixer

## 애플리케이션 아키텍처

### 핵심 컴포넌트
```
App.jsx
├── LandmarkGallery (메인 갤러리)
│   └── MediaCard (개별 랜드마크 카드)
├── Editor (AI 이미지 생성 인터페이스)
└── QrModal (QR 코드 생성 모달)
```

### 주요 기능
1. **갤러리 뷰**: 6개 랜드마크를 1행 6열 그리드로 표시
2. **AI 이미지 생성**: 3가지 스타일 카테고리 (아티스트, 자연, 애니메이션)
3. **QR 코드 생성**: 생성된 이미지를 QR 코드로 공유
4. **다크/라이트 테마**: 사용자 환경에 맞는 테마 전환

## 최근 주요 작업 내용 (2025-08-05)

### 🎯 터치스크린 UI/UX 개선
1. **터치 친화적 버튼 시스템**
   - 에디터 화면에 플로팅 백 버튼 추가
   - 최소 48x48px 터치 타겟 크기 보장
   - "나만의 서울 미래상 확인하기" 버튼 크기 확대
   - "뒤로가기" → "처음으로" 텍스트 변경으로 명확성 향상
   - 버튼 레이아웃 최적화 (좌측: 큰 확인 버튼, 우측: 처음으로 버튼)

2. **버튼 배치 변경 이력**
   - 초기: 하단 고정 플로팅 버튼
   - 수정 1: 스크롤 영역 내 고정
   - 최종: 콘텐츠와 함께 스크롤되는 자연스러운 배치

### ⏱️ 세션 자동 초기화 기능
1. **키오스크 모드 구현**
   - 30초 유휴 시간 감지
   - 10초 카운트다운 경고 모달
   - 자동 처음 화면 복귀
   - 활동 감지: 클릭, 터치, 키보드, 마우스 이동

2. **기술 구현 상세**
   ```javascript
   // 상태 관리
   - lastActivityTime: 마지막 활동 시간 추적
   - showInactivityModal: 경고 모달 표시 여부
   - countdown: 카운트다운 초 단위
   - activityTimerRef: 타이머 참조
   - countdownTimerRef: 카운트다운 타이머 참조
   ```

3. **사용자 경험 최적화**
   - 큰 카운트다운 숫자 표시 (text-6xl)
   - 명확한 안내 메시지
   - 계속하기/처음으로 버튼 제공
   - 모달 외부 클릭으로도 활동 재개 가능

### 🧹 프로젝트 정리 및 구조화
1. **코드 정리**
   - 사용하지 않는 ChevronRight 아이콘 컴포넌트 제거
   - 중복 코드 제거 및 리팩토링

2. **문서 구조화**
   - `docs/dev-notes/` 디렉토리 생성
   - 개발 문서 체계적 정리:
     - `countdown.md`: 세션 초기화 기능 문서
     - `translate.md`: 다국어 지원 가이드
     - `si_app_project.md`: 프로젝트 개요

3. **이미지 리소스 정리**
   - 사용하지 않는 이미지 백업 디렉토리로 이동
   - `public/image/_unused_backup/` 생성
   - 정리된 디렉토리:
     - hanriverbus
     - Dongdaemun DDP
     - seoul arena
     - noddle global art island
     - seoulring

### 📐 레이아웃 조정
1. **갤러리 페이지 개선**
   - 제목과 설명 위치 하향 조정
   - 헤더 여백 증가: `h-2 sm:h-4` → `h-8 sm:h-12 md:h-16`
   - 갤러리 이미지는 원위치 유지
   - 시각적 균형 개선

### 📚 다국어 지원 종합 가이드 작성
1. **Google Translate vs React-i18next 비교 분석**
   - 성능 영향 상세 측정 데이터
   - 구현 난이도 및 시간 비교
   - SEO 영향 분석
   - 사용 시나리오별 추천

2. **Google Translate 구현 가이드**
   - 5분 만에 구현 가능한 기본 설정
   - 성능 최적화 방법 (지연 로딩, 조건부 로딩)
   - 커스텀 UI 구현 방법
   - AI 프롬프트 통합 방안

3. **하이브리드 접근법 제안**
   - 단계별 마이그레이션 전략
   - 데이터 기반 의사결정 프로세스
   - 실제 구현 가능한 코드 예제

4. **최종 권장사항**
   - 즉시: Google Translate로 빠른 시작
   - 단기: 사용자 데이터 수집 및 분석
   - 중기: 주요 언어만 i18next 전환

### 🔧 기술적 개선사항
1. **성능 최적화**
   - 세션 초기화 타이머 최적화
   - 메모리 누수 방지 (cleanup 함수)
   - 이벤트 리스너 효율적 관리

2. **코드 품질**
   - TypeScript 준비된 구조
   - 명확한 함수명과 변수명
   - 주석 및 문서화 개선

### 📊 프로젝트 현황
- **개발 완료**: 터치스크린 UI, 세션 자동 초기화, 프로젝트 정리
- **문서 완료**: 다국어 지원 가이드, 프로젝트 문서 구조화
- **테스트 완료**: 모든 기능 정상 작동 확인
- **배포 준비**: GitHub Pages 배포 가능 상태

## 최근 주요 작업 내용 (2025-08-04)

### ✅ UI/UX 대폭 개선
1. **갤러리 레이아웃 변경**
   - 기존: 스크롤 방식 슬라이더
   - 변경: 1행 6열 정적 그리드 레이아웃
   - 모든 랜드마크가 한 화면에 동시 표시
   - 전체화면 활용을 위한 마진 및 패딩 최소화
   - 갤러리 높이를 90%로 설정하여 화면 공간 최대 활용

2. **이미지 리소스 최적화** 
   - 한글 파일명 → 영문 파일명으로 복사 생성
   - 파일 호환성 및 웹 표준 준수 향상
   - 에디터 참조 이미지 로딩 문제 해결

3. **콘텐츠 구조 재정렬**
   ```
   미래 서울:
   1. 서울링
   2. 노들 글로벌 예술섬
   3. 용산국제업무지구
   
   서울 랜드마크:
   4. 동대문디자인플라자
   5. 남산서울타워
   6. 북촌한옥마을
   ```

4. **헤딩 및 설명 텍스트 개선**
   - 메인 헤딩: "나만의 스타일로 서울을 그려보세요!"
   - 상세 설명에 강조 표시(`<strong>`) 및 줄바꿈 추가
   - 사용자 친화적 문구로 전면 개편
   - 제목과 설명 사이에 줄바꿈 추가로 가독성 향상

### 🎨 디자인 시스템 개선
- 전체화면 좌우 마진 최소화 (`px-1 sm:px-2`)
- 갤러리 그리드 간격 축소 (`gap-0.5 sm:gap-1`)
- 상단 패딩 축소 (`pt-4 sm:pt-6`)
- 헤더 크기 조정 (`text-2xl sm:text-3xl md:text-4xl`)
- 설명 텍스트 크기 조정 (`text-xs sm:text-sm md:text-base`)
- 푸터 패딩 최소화 (`pt-2 pb-2`)
- 갤러리와 설명 사이 여백 확보 (`py-6 sm:py-8`)

## 파일 구조

```
future-seoul-app/
├── public/
│   └── image/
│       ├── page1/               # 갤러리용 이미지
│       ├── page2/               # AI 에디터용 참조 이미지
│       └── _unused_backup/      # 미사용 이미지 백업
├── src/
│   ├── App.jsx                  # 메인 애플리케이션 컴포넌트
│   ├── main.jsx                 # React 진입점
│   ├── index.css                # 글로벌 스타일 (Tailwind)
│   └── App.css                  # 앱 스타일
├── docs/
│   └── dev-notes/               # 개발 문서
│       ├── countdown.md         # 세션 자동 초기화 기능
│       ├── translate.md         # 다국어 지원 가이드
│       └── si_app_project.md    # 프로젝트 개요
├── package.json                 # 프로젝트 의존성 및 스크립트
├── vite.config.js              # Vite 빌드 설정
├── tailwind.config.js          # Tailwind CSS 설정
├── CLAUDE.md                   # 이 문서 (프로젝트 가이드)
└── translate.md                # 다국어 지원 상세 가이드
```

## 구현된 주요 기능

### 1. 세션 자동 초기화 (키오스크 모드)
공공 전시 환경을 위한 자동 초기화 기능으로, 사용자가 일정 시간 동안 활동하지 않으면 자동으로 처음 화면으로 돌아갑니다.

- **유휴 시간**: 30초
- **경고 카운트다운**: 10초
- **활동 감지**: 클릭, 터치, 키보드, 마우스 이동
- **구현 위치**: `App.jsx`의 `handleActivity`, `InactivityModal` 컴포넌트

### 2. 터치스크린 최적화 UI
모바일 및 터치스크린 디바이스를 위한 UI 최적화로 더 나은 사용자 경험을 제공합니다.

- **최소 터치 영역**: 48x48px
- **플로팅 백 버튼**: 에디터 화면에서 쉬운 뒤로가기
- **반응형 버튼 크기**: 화면 크기에 따른 적응형 UI
- **명확한 레이블**: "뒤로가기" → "처음으로" 등 직관적 텍스트

### 3. 다국어 지원 준비
영어, 중국어, 일본어 지원을 위한 종합적인 가이드라인과 구현 전략을 수립했습니다.

- **Google Translate 통합**: 빠른 MVP 구현 (5분)
- **React-i18next 준비**: 프로덕션 품질을 위한 설계
- **하이브리드 전략**: 단계적 마이그레이션 계획
- **AI 프롬프트 다국어화**: 언어별 최적화된 프롬프트

## 이미지 리소스 관리

### 디렉토리 구조
```
public/image/
├── page1/                       # 갤러리용 이미지
│   ├── seoul-ring.png          # 서울링
│   ├── namsan-tower.png        # 남산타워
│   ├── dongdaemun-design-plaza.png  # 동대문DDP
│   ├── bukchon-hanok.png       # 북촌한옥마을
│   ├── yongsan-business-district.png  # 용산국제업무지구
│   ├── nodeul-arts-island.png  # 노들예술섬
│   └── [한글명 파일들]         # 기존 파일 유지
└── page2/                       # AI 에디터용 참조 이미지
    ├── seoul-ring.jpg          # 서울링 참조
    ├── namsan-tower.jpg        # 남산타워 참조
    ├── ddp.jpg                 # DDP 참조
    ├── bukchon-hanok.jpg       # 북촌한옥마을 참조
    ├── yongsan-ibd.png         # 용산 IBD 참조
    ├── nodeul-island.jpg       # 노들섬 참조
    └── [한글명 파일들]         # 기존 파일 유지
```

### 이미지 처리 로직
- 로컬 이미지: Vite의 BASE_URL을 통한 처리
- 외부 이미지: Weserv 프록시를 통한 최적화
- Base64 이미지: AI 생성 이미지 직접 표시
- 한글 파일명 호환성 문제 해결 완료

## 개발 환경

### 실행 방법
```bash
# 개발 서버 시작 (포트 5173)
npm run dev

# 빌드
npm run build

# 배포 (GitHub Pages)
npm run deploy
```

### 현재 실행 상태
- **개발 서버**: ✅ 정상 실행 중
- **포트**: 5173
- **URL**: http://localhost:5173/si-app/

## AI 이미지 생성 시스템

### 지원 스타일 카테고리

#### 1. 아티스트 스타일 (10종)
- **서양 화가**: 반 고흐, 모네, 피카소, 클림트, 에곤 쉴레, 앤디 워홀, 쿠사마 야요이
- **한국 화가**: 김홍도, 정선, 신윤복

#### 2. 자연 스타일 (3종)
- 벚꽃이 흩날리는 봄
- 화려한 가을 단풍
- 멋진 야경

#### 3. 애니메이션 스타일 (5종)
- 스튜디오 지브리
- 픽사
- 신카이 마코토
- 디즈니
- 드래곤볼

### AI 프롬프트 엔지니어링
- 건축물 구조 보존 강조
- 스타일별 특화된 프롬프트 템플릿
- 3:4 세로 비율 고정
- 고품질 이미지 생성 옵션
- Google Gemini 2.0 Flash 모델 사용

## 배포 및 호스팅

### GitHub Pages 설정
- **Repository**: https://github.com/KimJiHan/si-app
- **Base URL**: `/si-app/`
- **빌드 도구**: Vite
- **자동 배포**: `npm run deploy` 명령어

### 환경 변수
```javascript
// Gemini API 키 (환경 변수화 필요)
const VITE_GEMINI_API_KEY = process.env.VITE_GEMINI_API_KEY;
```

## 성능 최적화

### 이미지 최적화
- Weserv 프록시를 통한 외부 이미지 최적화
- 로컬 이미지의 적절한 크기 조정
- 반응형 이미지 로딩

### 로딩 최적화
- 이미지 지연 로딩 구현
- 로딩 상태 표시 (스피너 애니메이션)
- 에러 처리 및 fallback 이미지

## 향후 개선 계획

### ✅ 완료된 작업
- [x] 터치스크린 UI 최적화
- [x] 세션 자동 초기화 기능
- [x] 프로젝트 구조 정리
- [x] 다국어 지원 가이드 작성
- [x] 레이아웃 개선

### 🔒 보안 강화
- [ ] API 키 환경 변수화
- [ ] 클라이언트 사이드 API 키 노출 방지
- [ ] CORS 정책 검토

### 🎯 기능 개선
- [ ] 이미지 다운로드 기능 추가
- [ ] 소셜 미디어 공유 기능
- [ ] 이미지 생성 히스토리 관리
- [ ] 더 많은 예술 스타일 추가
- [ ] Google Translate 통합 (단기)
- [ ] React-i18next 마이그레이션 (중기)

### 📱 사용자 경험
- [x] 모바일 최적화 (터치 UI 완료)
- [ ] 접근성 (a11y) 개선
- [x] 다국어 지원 가이드 완료
- [ ] 사용법 가이드 추가

### ⚡ 성능 최적화
- [ ] 이미지 CDN 도입
- [ ] 코드 스플리팅
- [ ] 서비스 워커를 통한 캐싱
- [ ] 번들 크기 최적화

## 문제 해결 가이드

### 개발 서버 문제
```bash
# 포트 충돌 시
lsof -ti:5173 | xargs kill -9

# 캐시 문제 시
rm -rf node_modules/.vite
npm run dev
```

### 이미지 로딩 문제
- 한글 파일명 → 영문 파일명 사용
- Weserv 프록시 타임아웃 시 직접 경로 사용
- 브라우저 캐시 새로고침
- 이미지 경로가 BASE_URL을 포함하는지 확인

## 기술 지원

### 주요 의존성
- React 19.1.0 (최신 버전)
- Vite 7.0.4 (고속 번들러)
- Tailwind CSS 3.4.17 (유틸리티 CSS)
- Google Gemini API (AI 이미지 생성)
- QRCode.js (QR 코드 생성)

### 개발자 도구
- ESLint (코드 품질)
- PostCSS (CSS 처리)
- gh-pages (배포 자동화)

---

**최종 업데이트**: 2025-08-05  
**작성자**: 김지한
**프로젝트 상태**: ✅ 정상 운영 중

## 변경 이력

### 2025-08-05
- 터치스크린 UI/UX 개선
- 세션 자동 초기화 기능 구현
- 프로젝트 구조 정리 및 문서화
- 다국어 지원 종합 가이드 작성

### 2025-08-04
- UI/UX 대폭 개선
- 갤러리 레이아웃 변경
- 이미지 리소스 최적화
- 디자인 시스템 개선